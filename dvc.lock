schema: '2.0'
stages:
  split:
    cmd: python split.py
    deps:
    - path: data/raw/solar_output.csv
      hash: md5
      md5: 2ff2b936ae39e6d2dff8b6044f31b014
      size: 112208
    params:
      params.yaml:
        split:
          test_size: 0.1
          val_size: 0.1
          number_random: 42
    outs:
    - path: data/split/x_test.csv
      hash: md5
      md5: b28a110e3c58624ea89806b950833fc0
      size: 10359
    - path: data/split/x_train.csv
      hash: md5
      md5: 1c33ba003f061b0e4daa87c0aaaf4037
      size: 82106
    - path: data/split/x_val.csv
      hash: md5
      md5: 7e6ecb50dd3f3ad04b5dfd1faf8faa78
      size: 10386
    - path: data/split/y_test.csv
      hash: md5
      md5: 0998cddeda2f757f53003589dd75b0ac
      size: 1481
    - path: data/split/y_train.csv
      hash: md5
      md5: 600caedbcc4090139f8a61141af73e58
      size: 11319
    - path: data/split/y_val.csv
      hash: md5
      md5: 668ff7c947828a5eb1fe4ff1ab5992e5
      size: 1413
  preprocessing:
    cmd: python preprocessing.py
    deps:
    - path: data/split/x_test.csv
      hash: md5
      md5: b28a110e3c58624ea89806b950833fc0
      size: 10359
    - path: data/split/x_train.csv
      hash: md5
      md5: 1c33ba003f061b0e4daa87c0aaaf4037
      size: 82106
    - path: data/split/x_val.csv
      hash: md5
      md5: 7e6ecb50dd3f3ad04b5dfd1faf8faa78
      size: 10386
    - path: data/split/y_test.csv
      hash: md5
      md5: 0998cddeda2f757f53003589dd75b0ac
      size: 1481
    - path: data/split/y_train.csv
      hash: md5
      md5: 600caedbcc4090139f8a61141af73e58
      size: 11319
    - path: data/split/y_val.csv
      hash: md5
      md5: 668ff7c947828a5eb1fe4ff1ab5992e5
      size: 1413
    outs:
    - path: data/preprocessed/x_test.csv
      hash: md5
      md5: de83fcee0790b0022f5b4c55e4c90b26
      size: 41369
    - path: data/preprocessed/x_train.csv
      hash: md5
      md5: f9c1c10de3965057c5aacd7d94e5fca9
      size: 329764
    - path: data/preprocessed/x_val.csv
      hash: md5
      md5: b8dc2b80258f2ca9e88333140faa2cbd
      size: 41384
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 0998cddeda2f757f53003589dd75b0ac
      size: 1481
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: 600caedbcc4090139f8a61141af73e58
      size: 11319
    - path: data/preprocessed/y_val.csv
      hash: md5
      md5: 668ff7c947828a5eb1fe4ff1ab5992e5
      size: 1413
  train:
    cmd: python train.py
    deps:
    - path: data/preprocessed/x_train.csv
      hash: md5
      md5: f9c1c10de3965057c5aacd7d94e5fca9
      size: 329764
    - path: data/preprocessed/x_val.csv
      hash: md5
      md5: b8dc2b80258f2ca9e88333140faa2cbd
      size: 41384
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: 600caedbcc4090139f8a61141af73e58
      size: 11319
    - path: data/preprocessed/y_val.csv
      hash: md5
      md5: 668ff7c947828a5eb1fe4ff1ab5992e5
      size: 1413
    params:
      params.yaml:
        train:
          fit:
            epochs: 150
            batch_size: 64
          deep_layers:
            dense:
              count_neuron: 128
              activation: relu
            dense_1:
              count_neuron: 32
              activation: relu
            dense_2:
              count_neuron: 128
              activation: relu
            dense_3:
              count_neuron: 64
              activation: relu
            dropout:
              count_neuron: 0.5
            output:
              count_neuron: 1
          compile:
            optimizer: adam
            loss: mse
            metrics:
            - mae
    outs:
    - path: metrics.json
      hash: md5
      md5: 87999140b5e79ad1a9f09c7824dc6aa6
      size: 135
    - path: models/model.keras
      hash: md5
      md5: 0dea3d46b22e9d11d2316d2a03e58575
      size: 253032
  evaluate:
    cmd: python evaluate.py
    deps:
    - path: data/preprocessed/x_test.csv
      hash: md5
      md5: de83fcee0790b0022f5b4c55e4c90b26
      size: 41369
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 0998cddeda2f757f53003589dd75b0ac
      size: 1481
    - path: models/model.keras
      hash: md5
      md5: 0dea3d46b22e9d11d2316d2a03e58575
      size: 253032
    outs:
    - path: test_metrics.json
      hash: md5
      md5: ab632062d7b0b3d0793f3bc01e25d756
      size: 50
